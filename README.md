# money-envelopes
הסבר על המשחק מעטפות כסף:
קיימות 100 מעטפות ובכל אחת מהן סכום כסף שונה. כל פעם שאתם פותחים מעטפה ניתנת לכם האפשרות לבחור האם לקחת את סכום הכסף שבתוכה או לפתוח אחרת. כשמגיעים למעטפה האחרונה חייבים לקחת את הסכום שבה. לאחר שפותחים מעטפה אחרת אי אפשר לחזור לקודמת.
נשאלת השאלה, איך בוחרים את המעטפה עם הסכום הגדול ביותר?
לשם כך, יצרנו 4 אסטרטגיות לפיצוח הבעיה:
1. RandomStrategy - פתיחת המעטפות אחת אחרי השנייה ועצירה "לפי ההרגשה". בקוד שלנו בחרנו את מספר המעטפות שנפתח כרנדומלי.
2. StopAfterNOpensStrategy - בחירת מעטפות ברנדומליות, עוצרים באופן רנדומלי.
3. BetterThanPercentStrategy - פותחים אחוז מסויים של מעטפות, ומוצאים את המעטפה עם הסכום המקסימלי מאלה שפתחנו. עכשיו, נפתח מעטפות בזאת אחר השנייה עד שנמצא את המעטפה הראשונה שהסכום בה גדול מהסכום המקסימלי שמצאנו מקודם. נתקל בבעיה בעיקר אם הסכום המקסימלי נמצא במעטפות שפתחנו. כברירת מחדל נבחר את האחוז להיות 25.
4. MaxAfterNStrategy - לפתוח N מעטפות מקסימליות. כל פעם נמצא מעטפה עם סכום גבוה מקודמתה ונעצור אחרי N פעמים. לא בטוח שנמצא N מעטפות כאלה, ולכן יכול להיות שפשוט נגיע לסוף.
ניתן לשחק משחק בודד עם המחלקה Game והתוצאות ישמרו ב- Game_Result.
ובכל זאת, המטרה של הפרויקט הייתה לבדוק את הדרך הטובה ביותר לקבל את סכום הכסף הגבוה ביותר במשחק. לכן, יצרנו טורנירים שונים בהן יתחרו האסטרטגיות, ואחת מהן תנצח. הטורנירים שיצרנו הם:
1. DeathMatchTournament – מי שמגיע ראשון ל־X ניצחונות.
2. RoundRobinTournament – כולם נגד כולם, דירוג נקודות.
3. EliminationTournament – הדחה עם bye.
4. LeagueTournament – ליגה מלאה הלוך ושוב.
5. ChampionshipTournament – שלב בתים + פלייאוף.
להלן תרשים UML של הפרויקט והמחלקות שבו:
                   +------------------------------+
                   | GameResult (מכיל את Game)     |
                   +------------------------------+
                   | - chosen_amount:int          |
                   | - max_amount: int            |
                   | - steps: int                 |
                   | - success: bool              |
                   | - ratio: float               |
                   +------------------------------+
                   | + find_max_envelope          |
                   +------------------------------+


                   +------------------------------+
                   |      Envelope                |
                   +------------------------------+
                   | - amount: int                |
                   | - money: list[int]           |
                   +------------------------------+
                   | + reveal(): int              |
                   +------------------------------+
                                    |   
                                    |
                                   ◆︎
                   +------------------------------+
                   |        Game                  |
                   +------------------------------+
                   | - strategy: Strategy         |
                   | - result                     |
                   +------------------------------+
                   | + play()                     |
                   | + reset()                    |
                   +------------------------------+
			          	◆
                  |
                  |
+--------------------------------------+
|        Strategy (ABC)                |
+--------------------------------------+
| - envelopes: list[Envelope]          |
+--------------------------------------+
| + play(abstract)                     |
| + display()                          |
+--------------------------------------+
                   |
  ---------------------------------------------------------------------------------------------------------
  |                                         |                                 |                           |
  ▼                                         ▼                                 ▼                           ▼
+---------------------------+  +---------------------------+  +----------------------------+  +---------------------------+
| RandomStrategy            |  | StopAfterNOpensStrategy   |  | BetterThanPercentStrategy  |  | MaxAfterNStrategy         |
+---------------------------+  +---------------------------+  +----------------------------+  +---------------------------+
| + play(): (Envelope, int) |  | - N: int                  |  | - percent : float          |  | - N: int                  |
| + display()               |  +---------------------------+  +----------------------------+  +---------------------------+
+---------------------------+  | + play(): (Envelope, int) |  | + play(): (Envelope, int)  |  | + play(): (Envelope, int) |
                               | + display()               |  | + display()                |  | + display()               |
                               +---------------------------+  +----------------------------+  +---------------------------+  


                   +-----------------------------------------------+
                   |     Tournament          (מכיל את Strategy)     |
                   +-----------------------------------------------+
                   | - strategies:list                             |
                   | - results:dict                                |
                   | - mode:str                                    |
                   +-----------------------------------------------+
                   | + run(Strategy, Strategy): (Strategy, string) |
                   | + get_stats():(dict, int)                     |
                   | + save_log_json(string)                       |
                   | + save_log_csv(string)                        |
                   +-----------------------------------------------+
                                           |
              ---------------------------------------------------------------------------------------------------------------------------------------
              |                              |                               |                             |                                        |
              ▼                              ▼                               ▼                             ▼                                        ▼
+----------------------------+  +---------------------------+  +---------------------------+  +---------------------------+  +---------------------------------------------+
|   RoundRobinTournament     |  | LeagueTournament          |  | EliminationTournament     |  | DeathMatchTournament      |  | ChampionshipTournament                      |
+----------------------------+  +---------------------------+  +---------------------------+  +---------------------------+  +---------------------------------------------+
| - rounds: int              |  | - table: dict             |  | - seed: list              |  |- win_goal: int            |  |- playoffs: list                             |
+----------------------------+  +---------------------------+  +---------------------------+  |- num_of_games: int        |  |- groups:dict                                |
| + run(): (Strategy, string)|  | + run():(Strategy, string)|  | + run():(Strategy, string)|  +---------------------------+  |- group_result:dict                          |
+----------------------------+  +---------------------------+  +---------------------------+  | + run():(Strategy, string)|  +---------------------------------------------+
											                                                                        +---------------------------+  |+ internal_league(Strategy):dict            |
																					                                                                           			   |+ group_stage(dict: Strategy):list: Strategy |
																								                                                                             |+ playoff(list: Strategy): Strategy          |
																						                                                                          		   |+ print_groups()                             |
																	                                                                          							   |+ print_playoffs                             |
																						                                                                          		   |+ run(): Strategy                            |
																					                                                                          			   +---------------------------------------------+
חלוקת התפקידים:
כדי שנוכל לסיים את הפרויקט בזמן היינו צריכות לחלק את התפקידים כך שכל אחת תעבוד על חלק אחר בפרויקט במקביל, גם אם הוא מצריך את החלק שהשנייה עובדת עליו. ליהיא הייתה אחראית על המעטפות, האסטרטגיות, הטורניר האחרון והחלק של המסמך הנל והתיעוד. אופיר עבדה על הטורניר הבסיסי, ארבעה טורנירים שיורשים ממנו והמשחקים.

